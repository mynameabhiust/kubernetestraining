#pip install fastapi uvicorn
#uvicorn main:app --reload


from fastapi import FastAPI
from fastapi.responses import StreamingResponse
import io

app = FastAPI()

@app.get("/download")
def download_dynamic_file():
    content = "Hello from API!\nThis file was generated dynamically."
    file_like = io.BytesIO(content.encode())

    return StreamingResponse(
        file_like,
        media_type="text/plain",
        headers={"Content-Disposition": "attachment; filename=generated.txt"}
    )

